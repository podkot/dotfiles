#!/usr/bin/env bash

export DOTFILES="$HOME/dotfiles"
source "$DOTFILES/tilde/bashrc"

# dotfiles
header "Updating dotfiles..."
pushd "$DOTFILES"
git pull
$DOTFILES/sync
source "$HOME/.bashrc"
popd
echo

if [[ `uname` == 'Darwin' ]]; then
    source $DOTFILES/inc/update-mac.sh
    source $DOTFILES/inc/update-desktop.sh
# else
fi

# powerline fonts
[[ -d $DOTFILES/lib/fonts/ ]] && pushd $DOTFILES/lib/fonts && git pull && popd

# bash-it
[[ -d $DOTFILES/lib/bash-it/ ]] && pushd $DOTFILES/lib/bash-it && git pull && popd

# bash-it plugins
if command_exists bash-it ; then
    bash-it plugin disable all
    bash-it plugin enable alias-completion
    bash-it plugin enable base
    bash-it plugin enable fzf
    bash-it plugin enable hub
    bash-it plugin enable nvm
    bash-it plugin enable rvm
fi

# vim
vim +PluginInstall +qall
